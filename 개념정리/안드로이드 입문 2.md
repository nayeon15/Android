### 앱 디버거

-----

#### 앱 코드 탐색

+ **Project>Android**창에서 **java**폴더를 확장합니다. 이외에도`MainActivity`클래스, 이 프로젝트는 또한 유틸리티를 포함합니다.`Calculator`클래스입니다.
+ **계산**기를 열고 코드를 확인합니다. 계산기가 수행할 수 있는 연산은 다음과 같이 정의됩니다.`Operator` `enum`그리고 모든 운영 방법이 다음과 같다는 것을 확인합니다.`public`.
+ **MainActivity**를 열고 코드 및 설명을 검토합니다.

_다음 상황을 주의하자_

- 정의된 모든 항목`android:onClick`클릭 처리기가 개인을 호출합니다.`compute()`메서드, 작업 이름을 의 값 중 하나로 사용합니다.
- 그`compute()`방법은 을 요구합니다.`private`메서드`getOperand()`그 다음에 다시 호출이 온다.`getOperandText()`에서 숫자 값을 검색합니다.
- 그`compute()`메소드는 다음을 사용합니다.`switch`피연산자 이름에서 적절한 방법을 호출하기 위해 인스턴스(instance)`mCalculator`를 호출합니다.
- 계산 방법`Calculator`클래스는 실제 산술을 수행하고 값을 반환합니다.
- 마지막 부분은 `compute()`메소드가 업데이트합니다.

----------

#### 디버그 모드로 프로그램 시작 및 실행

+ AndroidStudio에서 **Run>Debugapp**을 선택하거나 Debug(디버그)아이콘을 클릭합니다.
+ 앱이 이미 실행 중인 경우 디버깅 모드에서 앱을 다시 시작할지 묻는 메시지가 표시됩니다. **Restartapp**(앱 다시 시작)을 클릭합니다.

+ AndroidStudio는 에뮬레이터나 장치에서 앱을 빌드하고 실행합니다. 어느 경우든 디버깅은 동일합니다. AndroidStudio가 디버거를 초기화하는 동안 앱을 사용하기 전에 장치에 "디버거를 기다리는 중"이라는 메시지가 표시될 수 있습니다.

+ AndroidStudio창 아래쪽에 있는 Debug(**디버그**)탭을 클릭하여 Debug(**디버그**)창을 표시하거나 **View>ToolWindows>Debug**(도구 창 보기>디버그)를 선택합니다. 창에서 **디버거** 탭을 이미 선택하여 **디버거** 창을 표시해야 합니다.

--------------

#### 중단점 설정

중단점은 코드 내에서 변수를 검사하거나 식을 평가하거나 코드를 한줄씩 실행하여 런타임 오류의 원인을 확인하는 등의 다른 작업을 수행하기 위해 정상적인 앱 실행을 일시 중지하려는 위치입니다. 코드 실행 줄에서 중단점을 설정할 수 있습니다.

+ **MainActivity**를 열고 네번째 줄을 클릭합니다.`compute()`메소드(행 뒤에 있음)`try`진술).

+ 해당 라인에서 편집기 창의 왼쪽 여백을 클릭합니다. 해당 선에 중단점을 나타내는 빨간 색 점이 나타납니다. 빨간 색 점은 앱이 이미 디버그 모드로 실행되고 있는 경우 체크 표시를 포함합니다.

또는 **실행>회선 중단점 전환**을 선택하거나 Control-F8(Mac에서는 Command-F8)을 눌러 한줄에서 중단점을 설정하거나 지울 수 있습니다.

![Debug pane in Android Studio](https://codelabs.developers.google.com/codelabs/android-training-using-debugger/img/472679cda2419269.png)

위 그림은 **디버그** 창과 **디버거** 및 **콘솔** 탭을 보여 줍니다. **디버거** 탭이 선택되어 다음 기능을 사용하여 **디버거** 창을 표시합니다.

+ **프레임** 탭**:**클릭해서 지정된 스레드에 대한 현재 실행 스택 프레임이 있**는** 프레임 창을 표시합니다. 실행 스택에는 앱과 Android런타임에 호출된 각 클래스 및 메서드가 맨 위에 가장 최근의 방법으로 표시됩니다.

스레드 **탭**을 클릭하여 프레임 **창을** 스레드 **창으로** 바꿉니다. 앱이 현재 메인 스레드에서 실행 중이며, 앱이 실행 중입니다.

+ **감시** 버튼**:** 클릭해서 **변수** 창에 **시계** 창을 표시합니다. 이 창에는 설정한 가변 시계의 값이 표시됩니다. 감시를 통해 프로그램의 특정 변수를 추적하고 프로그램이 실행될 때 해당 변수가 어떻게 변경되는지 확인할 수 있습니다.
+ **변수** 창**:** 현재 범위의 변수와 해당 값을 표시합니다. 앱 실행의 이 단계에서 사용 가능한 변수는 다음과 같습니다.`Activity`,`operator`(연산자 이름:`Calculator.Operator`해당 방법이 호출되었는지 여부), 그리고 시스템에 대한 전역 변수`EditText`요소들과`TextView`. 이 창의 각 변수에는 변수에 대한 개체 속성 목록을 확장할 수 있는 확장 아이콘이 있습니다. 변수를 확장하여 해당 속성을 탐색합니다.

----------------

### 실행 중인 앱 디버깅

앱이 이미 장치 또는 에뮬레이터에서 실행 중이고 해당 앱을 디버깅 하려는 경우 이미 실행 중인 앱을 디버그 모드로 전환할 수 있습니다.

+ **실행을** 사용하여 SimpleCalc앱을 정상적으로 실행합니다.

+ **실행>Android프로세스에 디버거 연결**을 선택하거나 **연결**을 클릭합니다.**아이콘**을 클릭합니다.

+ 표시되는 대화 상자에서 앱의 프로세스를 선택합니다(아래 그림 참조). **확인**을 클릭합니다.

![Choose process dialog](https://codelabs.developers.google.com/codelabs/android-training-using-debugger/img/52541a228592919f.png)

-------------------

### 앱 실행 단계

중단점을 만든 후 디버거를 사용하여 한번에 하나씩 앱의 각 코드 줄을 실행하고 앱이 실행될 때 변수 상태를 검토할 수 있습니다.

+ 마지막 작업에서 설정한 중단점을 사용하여 AndroidStudio에서 앱을 디버깅 합니다.

+ 앱에 두 숫자를 모두 입력합니다.`EditText`요소를 클릭하고 **추가** 단추를 클릭합니다.

이전에 설정한 중단점에서 앱 실행이 중지되고 **디버거** 창에 앱의 현재 상태가 표시됩니다. 현재 줄이 코드에서 강조 표시됩니다.

+ 스텝 오버를 클릭합니다. 디버거 창의 맨 위에 있는 버튼을 클릭합니다.

디버거가에서 현재 줄을 실행합니다.`compute()`메서드(중단점이 있는 위치, 다음에 대한 할당`operandOne`), 그리고 하이라이트가 코드의 다음 줄로 이동합니다. 할당:`operandTwo`변수 창은 새 실행 상태를 반영하도록 업데이트되고 변수의 현재 값은 소스 코드의 각 행 뒤에 기울 임꼴로 표시됩니다.

**당신은 또한 Run>StepOver를** 사용하거나 F8을 눌러 당신의 코드를 넘을 수 있다.

1. 다음 줄(할당 대상)`operandTwo`)를 클릭합니다. 

**단계적**으로 현재 라인에서 메서드 호출의 실행으로 이동합니다(해당 방법을 실행하고 동일한 라인에 남아 있는 것과 비교). 이 경우 해당 할당에 다음에 대한 호출이 포함되기 때문입니다.`getOperand()`디버거가 스크롤 합니다.`MainActivity`해당 메서드 정의에 대한 코드를 지정합니다.

![Debugger pane after clicking Step Into](https://codelabs.developers.google.com/codelabs/android-training-using-debugger/img/6e0705650cf4865f.png)

+ **단계 초과**를 클릭합니다. 줄을 하나하나 연결하다`getOperand()`메서드가 완료되면 디버거가 처음 방법을 시작한 지점으로 돌아가고 모든 패널이 새 정보를 표시하도록 업데이트됩니다.

+ **단계를** 두번 클릭하여 실행 지점을 내부의 첫번째 줄로 이동합니다.

  Calculator.java파일을 저장하고 해당 클래스의 실행 지점으로 스크롤 합니다. 새 상태를 반영하도록 다양한 창이 업데이트됩니다.

1. **StepOut**사용아이콘을 클릭하여 해당 계산 방법의 나머지를 실행하고 다시 표시합니다.`compute()`의 방법.`MainActivity`그러면 당신은 계속해서 debugging 할 수 있습니다.

**Run>StepOut**을 사용하거나 Shift-F8을 눌러 메서드 실행에서 단계를 벗어날 수도 있습니다.

-----------

### 정리

+ **Lomcat**탭을 클릭하여 AndroidStudio에서 로깅 정보를 봅니다.
+ 디버그 아이콘을 클릭하거나 **실행>디버그 앱**을 선택하여 디버그 모드로 앱을 실행합니다.
+ **디버그** 탭을 클릭하여 **디버그** 창을 표시합니다. **디버그** 창에서 **디버거** 탭을 클릭하여 **디버거** 창을 표시합니다(아직 선택되지 않은 경우).
+ **디버거** 창에는(스택)**프레임**, 특정 프레임의 **변수** 및 **감시**(프로그램이 실행되는 동안 변수의 활성 추적)가 표시됩니다.
+ 중단점은 코드 내에서 다른 작업을 수행하기 위해 앱의 정상 실행을 일시 중지하려는 위치입니다. 대상 줄 바로 옆에 있는 편집기 창의 왼쪽 여백을 클릭하여 디버깅 중단점을 설정하거나 지웁니다.